SPECIFICATION Spec_CB

\* Constants from implementation
CONSTANTS
    ROLE_CONFUSION_THRESHOLD = 0.65
    SATURATION_LENGTH_THRESHOLD = 5000
    SATURATION_F_THRESHOLD = 0.5
    RECOVERY_TRUST_TARGET = 0.6
    MAX_RECOVERY_ATTEMPTS = 3
    ALPHA = 0.3
    TRUST_THRESHOLD = 0.3
    MAX_TURNS = 20

\* Invariants to check
INVARIANTS
    TypeOK_CB
    SafetyInvariant
    ProcessingControlled
    RecoveryAttemptsBounded
    TerminalStateStable

\* Properties to verify
PROPERTIES
    ViolationMonotonic
    TrustDegradationOnViolation
    SessionIntegrationCorrect

\* State space constraints for model checking
CONSTRAINT
    /\ violation_count <= 10
    /\ Len(prompt_queue) <= 5
    /\ recovery_attempts <= MAX_RECOVERY_ATTEMPTS
